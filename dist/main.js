(()=>{const e=document.querySelector(".view-more"),t=document.querySelector(".more"),n=document.querySelector(".projects"),d=document.querySelector(".projects-folder"),s=document.querySelector(".menu"),a=document.querySelector(".main"),c=document.querySelector(".inbox"),o=[{name:"inbox",tasks:[]}];let i,l,r=[],m=document.querySelectorAll(".delete");const u=document.querySelector(".addItem"),p=document.querySelector(".addProject"),v=document.querySelector(".close"),L=document.querySelector(".add"),C=document.querySelector(".addProjectInput"),g=document.querySelector(".root");let k=document.querySelectorAll(".projectsNameInPage");const h=document.querySelector(".inboxClick"),y=document.querySelector(".nameTasks"),E=document.querySelector(".descriptiontasks"),x=document.querySelector(".dateTasks"),q=document.querySelector(".priorityTasksInput"),S=document.querySelector(".addNav"),f=document.querySelector(".addtasks"),j=document.querySelector(".closeTasksClick"),b=document.querySelector(".addTasksButton"),P=document.querySelector(".projects-content");c.addEventListener("click",(()=>{i="inbox",B()})),s.addEventListener("click",(()=>{d.classList.toggle("z-index-toggle")})),j.addEventListener("click",(()=>{y.value="",E.value="",x.value="",q.value="",f.classList.toggle("visiblity")})),S.addEventListener("click",(()=>{f.classList.toggle("visiblity"),d.classList.remove("z-index-toggle")})),b.addEventListener("click",(()=>{if("complited"==i&&(i="inbox"),i)for(let e=0;e<o.length;e++)o[e].name==i&&(o[e].tasks.push({name:y.value,decription:E.value,date:x.value,priority:q.value,id:Math.floor(1e3*Math.random())}),l=e);else i="inbox",o[0].tasks.push({name:y.value,decription:E.value,date:x.value,priority:q.value,id:Math.floor(1e3*Math.random()),checked:!1}),l=0;B(),console.log(o),console.log(i),m=document.querySelectorAll(".delete"),y.value="",E.value="",f.classList.toggle("visiblity")})),h.addEventListener("click",(()=>{i="inbox",B(),console.log(o)})),document.addEventListener("click",(e=>{if(e.target.classList.contains("projectsNameInPage")){for(let t=0;t<o.length;t++)o[t].name==e.target.textContent&&(i=o[t].name);B()}})),document.addEventListener("click",(e=>{e.target.classList.contains("menu")&&(d.classList.toggle("projects-folderClick"),P.classList.toggle("projects-contentClick"),a.classList.toggle("mainClick"))})),u.addEventListener("click",(()=>{p.classList.toggle("visiblity"),d.classList.remove("z-index-toggle")})),v.addEventListener("click",(()=>{C.value="",p.classList.add("visiblity")})),L.addEventListener("click",(()=>{o.push({name:C.value,tasks:[]}),i=C.value,C.value="",p.classList.add("visiblity"),N(),B()})),document.addEventListener("click",(e=>{if(e.target.classList.contains("viewMoreBtn")){let t=e.target.dataset.id;for(let e=0;e<o.length;e++)o[e].name==i&&($=e);for(let e=0;e<o[$].tasks.length;e++)o[$].tasks[e].id==t&&(I=e);T()}})),document.addEventListener("click",(e=>{if(e.target.classList.contains("delete")){for(let e=0;e<o.length;e++)o[e].name==i&&(index=e);for(let t=0;t<o[index].tasks.length;t++)o[index].tasks[t].id==e.target.dataset.id&&(indexTwo=t);o[index].tasks.splice(indexTwo,1),B(),console.log(o)}})),document.addEventListener("click",(e=>{let t,n;if(!e.target.classList.contains("checkbox"))return!1;if(e.target.checked){for(let e=0;e<o.length;e++)o[e].name==i&&(t=e);for(let d=0;d<o[t].tasks.length;d++)o[t].tasks[d].id==e.target.dataset.id&&(n=d);r.push(o[t].tasks[n]),o[t].tasks.splice(n,1),console.log(o),B()}})),document.addEventListener("click",(e=>{e.target.classList.contains("done")&&(console.log([...r]),i="complited",M())})),document.addEventListener("click",(e=>{e.target.classList.contains("viewMoreBtnComplited")&&w(e.target.dataset.id)}));const w=e=>{let t;for(let n=0;n<r.length;n++)e==r[n].id&&(t=n);const n=document.createElement("div");n.classList.add("moreContent");const d=document.createElement("div");d.classList.add("closeBtnMore"),d.textContent="close",n.appendChild(d);const s=document.createElement("div");s.classList.add("nameProject-and-description");const a=document.createElement("div");a.textContent=`name: ${r[t].name}`,a.classList.add("nameProject"),s.appendChild(a);const c=document.createElement("div");c.textContent=`description: ${r[t].decription}`,c.classList.add("descriptionProject"),s.appendChild(c),n.appendChild(s);const o=document.createElement("div");o.classList.add("date-and-priority");const i=document.createElement("div");o.textContent=`date: ${r[t].date}`,i.classList.add("dateProject"),o.appendChild(i);const l=document.createElement("div");l.textContent=`priority: ${r[t].priority}`,l.classList.add("priorityProject"),o.appendChild(l),n.appendChild(o),document.body.appendChild(n)},M=()=>{P.textContent=i;for(let e=0;e<r.length;e++){const t=document.createElement("div");t.classList.add("manyProjects");const n=document.createElement("div");n.dataset.id=r[e].id,n.classList.add("tasks");const d=document.createElement("div");d.classList.add("name-and-priority");const s=document.createElement("div");d.appendChild(s);const a=document.createElement("div");a.textContent=r[e].name,a.classList.add("name"),d.appendChild(a),n.appendChild(d);const c=document.createElement("div");c.classList.add("delete");const o=document.createElement("button");o.classList.add("viewMoreBtnComplited"),o.textContent="view more",o.dataset.id=r[e].id,c.appendChild(o),document.createElement("div").classList.add("priority"),n.appendChild(c),t.appendChild(n),P.appendChild(t)}},B=()=>{let e;P.textContent=i;for(let t=0;t<o.length;t++)o[t].name==i&&(e=t);for(let t=0;t<o[e].tasks.length;t++){const n=document.createElement("div");n.classList.add("manyProjects");const d=document.createElement("div");d.dataset.id=o[e].tasks[t].id,d.classList.add("tasks");const s=document.createElement("div");s.classList.add("name-and-priority");const a=document.createElement("div"),c=document.createElement("input");c.dataset.id=o[e].tasks[t].id,c.classList.add("checkbox"),c.type="checkbox",a.appendChild(c),s.appendChild(a);const i=document.createElement("div");i.textContent=o[e].tasks[t].name,i.classList.add("name"),s.appendChild(i),d.appendChild(s);const l=document.createElement("div");l.classList.add("delete");const r=document.createElement("button");r.classList.add("viewMoreBtn"),r.textContent="view more",r.dataset.id=o[e].tasks[t].id,l.appendChild(r);const m=document.createElement("span");m.classList.add("material-icons"),m.classList.add("delete"),m.textContent="delete",m.dataset.id=o[e].tasks[t].id,document.createElement("div").classList.add("priority"),l.appendChild(m),d.appendChild(l),n.appendChild(d),P.appendChild(n)}};let $,I;document.addEventListener("click",(e=>{e.target.classList.contains("closeBtnMore")&&[...document.getElementsByClassName("moreContent")].map((e=>e&&e.remove()))}));const T=()=>{const e=document.createElement("div");e.classList.add("moreContent");const t=document.createElement("div");t.classList.add("closeBtnMore"),t.textContent="close",e.appendChild(t);const n=document.createElement("div");n.classList.add("nameProject-and-description");const d=document.createElement("div");d.textContent=`name: ${o[$].tasks[I].name}`,d.classList.add("nameProject"),n.appendChild(d);const s=document.createElement("div");s.textContent=`description: ${o[$].tasks[I].decription}`,s.classList.add("descriptionProject"),n.appendChild(s),e.appendChild(n);const a=document.createElement("div");a.classList.add("date-and-priority");const c=document.createElement("div");a.textContent=`date: ${o[$].tasks[I].date}`,c.classList.add("dateProject"),a.appendChild(c);const i=document.createElement("div");i.textContent=`priority: ${o[$].tasks[I].priority}`,i.classList.add("priorityProject"),a.appendChild(i),e.appendChild(a),document.body.appendChild(e)},N=()=>{for(key in g.textContent="",o)if("inbox"==o[key].name);else{const e=document.createElement("p");e.classList.add("projectsNameInPage"),e.textContent=o[key].name,g.appendChild(e)}k=document.querySelectorAll(".projectsNameInPage")};e.addEventListener("click",(()=>{"expand_more"==t.textContent?t.textContent="expand_less":t.textContent="expand_more",n.classList.toggle("visiblity"),d.classList.toggle("overflow"),d.classList.toggle("overflowHidden")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTa0MsaUJBQWlCLFNBQVMsS0FDUixlQUFwQi9CLEVBQUtxRCxZQUNKckQsRUFBS3FELFlBQWMsY0FFbkJyRCxFQUFLcUQsWUFBYyxjQUd2QnBELEVBQVlnQyxVQUFVQyxPQUFPLGFBQzdCaEMsRUFBYytCLFVBQVVDLE9BQU8sWUFDL0JoQyxFQUFjK0IsVUFBVUMsT0FBTyxzQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC1hcHAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgdmlld01vcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlldy1tb3JlJyk7XHJcbmNvbnN0IG1vcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9yZScpO1xyXG5jb25zdCBwcm9qZWN0c0RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cycpO1xyXG5jb25zdCBwcm9qZWN0Rm9sZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWZvbGRlcicpO1xyXG5jb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUnKTtcclxuY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJyk7XHJcblxyXG5jb25zdCBpbmJveE1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5ib3gnKTtcclxuXHJcbmNvbnN0IG5ld0FyciA9IFt7IG5hbWU6ICdpbmJveCcsIHRhc2tzOiBbXSB9XTtcclxubGV0IG5vd1Byb2plY3Q7XHJcbmxldCBjb3VudDtcclxubGV0IGNvbXBsaXRlZFRhc2tzID0gW107XHJcblxyXG5sZXQgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbGV0ZScpO1xyXG5cclxuY29uc3QgYWRkSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGRJdGVtJyk7XHJcbmNvbnN0IGFkZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkUHJvamVjdCcpO1xyXG5cclxuY29uc3QgY2xvc2VOZXdQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJyk7XHJcbmNvbnN0IGFkZE5ld1Byb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkJyk7XHJcblxyXG5jb25zdCBhZGRQcm9qZWN0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkUHJvamVjdElucHV0Jyk7XHJcblxyXG5jb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvb3QnKTtcclxubGV0IHByb2plY3RzTmFtZUluUGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0c05hbWVJblBhZ2UnKTtcclxuXHJcbmNvbnN0IGluYm94Q2xpY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5ib3hDbGljaycpO1xyXG5cclxuY29uc3QgbmFtZVRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hbWVUYXNrcycpO1xyXG5jb25zdCBkZXNjcmlwdGlvbnRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlc2NyaXB0aW9udGFza3MnKTtcclxuY29uc3QgZGF0ZVRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGVUYXNrcycpO1xyXG5jb25zdCBwcmlvcml0eVRhc2tzSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJpb3JpdHlUYXNrc0lucHV0Jyk7XHJcblxyXG5jb25zdCBhZGROYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkTmF2Jyk7XHJcbmNvbnN0IGFkZHRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZHRhc2tzJyk7XHJcbmNvbnN0IGNsb3NlVGFza3NDbGljayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZVRhc2tzQ2xpY2snKTtcclxuY29uc3QgYWRkVGFza3NCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkVGFza3NCdXR0b24nKTtcclxuXHJcbmNvbnN0IHByb2plY3RzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1jb250ZW50Jyk7XHJcblxyXG5pbmJveE1haW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBub3dQcm9qZWN0ID0gJ2luYm94JztcclxuICAgIGNyZWF0ZURpdigpO1xyXG59KVxyXG5cclxubWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgcHJvamVjdEZvbGRlci5jbGFzc0xpc3QudG9nZ2xlKCd6LWluZGV4LXRvZ2dsZScpO1xyXG59KVxyXG5cclxuY2xvc2VUYXNrc0NsaWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgbmFtZVRhc2tzLnZhbHVlID0gJyc7XHJcbiAgICBkZXNjcmlwdGlvbnRhc2tzLnZhbHVlID0gJyc7XHJcbiAgICBkYXRlVGFza3MudmFsdWUgPSAnJztcclxuICAgIHByaW9yaXR5VGFza3NJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgYWRkdGFza3MuY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsaXR5Jyk7XHJcbn0pXHJcblxyXG5hZGROYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBhZGR0YXNrcy5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxpdHknKTtcclxuICAgIHByb2plY3RGb2xkZXIuY2xhc3NMaXN0LnJlbW92ZSgnei1pbmRleC10b2dnbGUnKTtcclxufSlcclxuXHJcbmFkZFRhc2tzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaWYobm93UHJvamVjdCA9PSAnY29tcGxpdGVkJyl7XHJcbiAgICAgICAgbm93UHJvamVjdCA9ICdpbmJveCc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYobm93UHJvamVjdCl7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG5ld0Fyci5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKG5ld0FycltpXS5uYW1lID09IG5vd1Byb2plY3Qpe1xyXG4gICAgICAgICAgICAgICAgbmV3QXJyW2ldLnRhc2tzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVUYXNrcy52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBkZWNyaXB0aW9uOiBkZXNjcmlwdGlvbnRhc2tzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IGRhdGVUYXNrcy52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlUYXNrc0lucHV0LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBjb3VudCA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBub3dQcm9qZWN0ID0gJ2luYm94JztcclxuICAgICAgICBuZXdBcnJbMF0udGFza3MucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWVUYXNrcy52YWx1ZSxcclxuICAgICAgICAgICAgZGVjcmlwdGlvbjogZGVzY3JpcHRpb250YXNrcy52YWx1ZSxcclxuICAgICAgICAgICAgZGF0ZTogZGF0ZVRhc2tzLnZhbHVlLFxyXG4gICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlUYXNrc0lucHV0LnZhbHVlLFxyXG4gICAgICAgICAgICBpZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCksXHJcbiAgICAgICAgICAgIGNoZWNrZWQ6IGZhbHNlLFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvdW50ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVEaXYoKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhuZXdBcnIpO1xyXG4gICAgY29uc29sZS5sb2cobm93UHJvamVjdCk7XHJcblxyXG4gICAgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbGV0ZScpO1xyXG5cclxuICAgIG5hbWVUYXNrcy52YWx1ZSA9ICcnO1xyXG4gICAgZGVzY3JpcHRpb250YXNrcy52YWx1ZSA9ICcnO1xyXG5cclxuICAgIGFkZHRhc2tzLmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGl0eScpO1xyXG59KVxyXG5cclxuaW5ib3hDbGljay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIG5vd1Byb2plY3QgPSAnaW5ib3gnO1xyXG4gICAgY3JlYXRlRGl2KCk7XHJcbiAgICBjb25zb2xlLmxvZyhuZXdBcnIpO1xyXG59KVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9qZWN0c05hbWVJblBhZ2UnKSl7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG5ld0Fyci5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKG5ld0FycltpXS5uYW1lID09IGUudGFyZ2V0LnRleHRDb250ZW50KXtcclxuICAgICAgICAgICAgICAgIG5vd1Byb2plY3QgPSBuZXdBcnJbaV0ubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVEaXYoKTtcclxufSlcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWVudScpKXtcclxuICAgICAgICBwcm9qZWN0Rm9sZGVyLmNsYXNzTGlzdC50b2dnbGUoJ3Byb2plY3RzLWZvbGRlckNsaWNrJyk7XHJcbiAgICAgICAgcHJvamVjdHNDb250ZW50LmNsYXNzTGlzdC50b2dnbGUoJ3Byb2plY3RzLWNvbnRlbnRDbGljaycpO1xyXG4gICAgICAgIG1haW4uY2xhc3NMaXN0LnRvZ2dsZSgnbWFpbkNsaWNrJyk7XHJcbiAgICB9XHJcbn0pXHJcblxyXG5hZGRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgYWRkUHJvamVjdC5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxpdHknKTtcclxuICAgIHByb2plY3RGb2xkZXIuY2xhc3NMaXN0LnJlbW92ZSgnei1pbmRleC10b2dnbGUnKTtcclxufSlcclxuXHJcbmNsb3NlTmV3UHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGFkZFByb2plY3RJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgYWRkUHJvamVjdC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxpdHknKTtcclxufSlcclxuXHJcbmFkZE5ld1Byb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBuZXdBcnIucHVzaCh7XHJcbiAgICAgICAgbmFtZTogYWRkUHJvamVjdElucHV0LnZhbHVlLFxyXG4gICAgICAgIHRhc2tzOiBbXSxcclxuICAgIH0pXHJcbiAgICBub3dQcm9qZWN0ID0gYWRkUHJvamVjdElucHV0LnZhbHVlO1xyXG4gICAgYWRkUHJvamVjdElucHV0LnZhbHVlID0gJyc7XHJcbiAgICBhZGRQcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGl0eScpO1xyXG4gICAgYWRkVG9QYWdlTmFtZVByb2plY3QoKTtcclxuICAgIGNyZWF0ZURpdigpO1xyXG59KVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aWV3TW9yZUJ0bicpKXtcclxuICAgICAgICBsZXQgaW5kZXhNYWluID0gZS50YXJnZXQuZGF0YXNldC5pZDtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG5ld0Fyci5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKG5ld0FycltpXS5uYW1lID09IG5vd1Byb2plY3Qpe1xyXG4gICAgICAgICAgICAgICAgaW5kZXhNYWluT25lID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgbmV3QXJyW2luZGV4TWFpbk9uZV0udGFza3MubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICBpZihuZXdBcnJbaW5kZXhNYWluT25lXS50YXNrc1tqXS5pZCA9PSBpbmRleE1haW4pe1xyXG4gICAgICAgICAgICAgICAgaW5kZXhNYWluVHdvID0gajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkRGl2KCk7XHJcbiAgICB9XHJcbn0pXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbGV0ZScpKXtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbmV3QXJyLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYobmV3QXJyW2ldLm5hbWUgPT0gbm93UHJvamVjdCl7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBuZXdBcnJbaW5kZXhdLnRhc2tzLmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgaWYobmV3QXJyW2luZGV4XS50YXNrc1tqXS5pZCA9PSBlLnRhcmdldC5kYXRhc2V0LmlkKXtcclxuICAgICAgICAgICAgICAgIGluZGV4VHdvID0gajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmV3QXJyW2luZGV4XS50YXNrcy5zcGxpY2UoaW5kZXhUd28sIDEpO1xyXG4gICAgICAgIGNyZWF0ZURpdigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG5ld0Fycik7XHJcbiAgICB9XHJcbn0pXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICBsZXQgaW5kZXg7XHJcbiAgICBsZXQgaW5kZXhUd287XHJcblxyXG4gICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2JveCcpKXtcclxuICAgICAgICBpZihlLnRhcmdldC5jaGVja2VkKXtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG5ld0Fyci5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZihuZXdBcnJbaV0ubmFtZSA9PSBub3dQcm9qZWN0KXtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBuZXdBcnJbaW5kZXhdLnRhc2tzLmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgIGlmKG5ld0FycltpbmRleF0udGFza3Nbal0uaWQgPT0gZS50YXJnZXQuZGF0YXNldC5pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhUd28gPSBqO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXBsaXRlZFRhc2tzLnB1c2gobmV3QXJyW2luZGV4XS50YXNrc1tpbmRleFR3b10pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbmV3QXJyW2luZGV4XS50YXNrcy5zcGxpY2UoaW5kZXhUd28sIDEpO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2cobmV3QXJyKTtcclxuXHJcbiAgICAgICAgICAgIGNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0pXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RvbmUnKSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coWy4uLmNvbXBsaXRlZFRhc2tzXSk7XHJcbiAgICAgICAgbm93UHJvamVjdCA9ICdjb21wbGl0ZWQnO1xyXG4gICAgICAgIGNvbXBsaXRlZERpdigpO1xyXG4gICAgfVxyXG59KVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aWV3TW9yZUJ0bkNvbXBsaXRlZCcpKXtcclxuICAgICAgICBjb21wbGl0ZWRWaWV3TW9yZShlLnRhcmdldC5kYXRhc2V0LmlkKTtcclxuICAgIH1cclxufSlcclxuXHJcbmNvbnN0IGNvbXBsaXRlZFZpZXdNb3JlID0gKHRlc3QpID0+IHtcclxuICAgIGxldCBpbmRleDtcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgY29tcGxpdGVkVGFza3MubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGlmKHRlc3QgPT0gY29tcGxpdGVkVGFza3NbaV0uaWQpe1xyXG4gICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBtb3JlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbW9yZUNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnbW9yZUNvbnRlbnQnKTtcclxuXHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2xvc2VCdG5Nb3JlJyk7XHJcbiAgICBjbG9zZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdjbG9zZSc7XHJcblxyXG4gICAgbW9yZUNvbnRlbnQuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pO1xyXG5cclxuICAgIGNvbnN0IG5hbWVQcm9qZWN0QW5kRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5hbWVQcm9qZWN0QW5kRGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZCgnbmFtZVByb2plY3QtYW5kLWRlc2NyaXB0aW9uJyk7XHJcblxyXG4gICAgY29uc3QgbmFtZVByb2plY3RUd28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5hbWVQcm9qZWN0VHdvLnRleHRDb250ZW50ID0gYG5hbWU6ICR7Y29tcGxpdGVkVGFza3NbaW5kZXhdLm5hbWV9YDtcclxuICAgIG5hbWVQcm9qZWN0VHdvLmNsYXNzTGlzdC5hZGQoJ25hbWVQcm9qZWN0Jyk7XHJcblxyXG4gICAgbmFtZVByb2plY3RBbmREZXNjcmlwdGlvbi5hcHBlbmRDaGlsZChuYW1lUHJvamVjdFR3byk7XHJcblxyXG4gICAgY29uc3QgZGVzY3JpcHRpb25Ud28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRlc2NyaXB0aW9uVHdvLnRleHRDb250ZW50ID0gYGRlc2NyaXB0aW9uOiAke2NvbXBsaXRlZFRhc2tzW2luZGV4XS5kZWNyaXB0aW9ufWA7XHJcbiAgICBkZXNjcmlwdGlvblR3by5jbGFzc0xpc3QuYWRkKCdkZXNjcmlwdGlvblByb2plY3QnKTtcclxuXHJcbiAgICBuYW1lUHJvamVjdEFuZERlc2NyaXB0aW9uLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uVHdvKTtcclxuXHJcbiAgICBtb3JlQ29udGVudC5hcHBlbmRDaGlsZChuYW1lUHJvamVjdEFuZERlc2NyaXB0aW9uKTtcclxuXHJcbiAgICBjb25zdCBkYXRlQW5kUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRhdGVBbmRQcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdkYXRlLWFuZC1wcmlvcml0eScpO1xyXG5cclxuICAgIGNvbnN0IGRhdGVQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBkYXRlQW5kUHJpb3JpdHkudGV4dENvbnRlbnQgPSBgZGF0ZTogJHtjb21wbGl0ZWRUYXNrc1tpbmRleF0uZGF0ZX1gO1xyXG4gICAgZGF0ZVByb2plY3QuY2xhc3NMaXN0LmFkZCgnZGF0ZVByb2plY3QnKTtcclxuXHJcbiAgICBkYXRlQW5kUHJpb3JpdHkuYXBwZW5kQ2hpbGQoZGF0ZVByb2plY3QpO1xyXG5cclxuICAgIGNvbnN0IHByaW9yaXR5UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgcHJpb3JpdHlQcm9qZWN0LnRleHRDb250ZW50ID0gYHByaW9yaXR5OiAke2NvbXBsaXRlZFRhc2tzW2luZGV4XS5wcmlvcml0eX1gO1xyXG4gICAgcHJpb3JpdHlQcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5UHJvamVjdCcpO1xyXG5cclxuICAgIGRhdGVBbmRQcmlvcml0eS5hcHBlbmRDaGlsZChwcmlvcml0eVByb2plY3QpO1xyXG5cclxuICAgIG1vcmVDb250ZW50LmFwcGVuZENoaWxkKGRhdGVBbmRQcmlvcml0eSk7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb3JlQ29udGVudCk7XHJcbn1cclxuXHJcbmNvbnN0IGNvbXBsaXRlZERpdiA9ICgpID0+IHtcclxuXHJcbiAgICBwcm9qZWN0c0NvbnRlbnQudGV4dENvbnRlbnQgPSBub3dQcm9qZWN0O1xyXG4gICAgXHJcbiAgICBmb3IobGV0IGogPSAwOyBqIDwgY29tcGxpdGVkVGFza3MubGVuZ3RoOyBqKyspe1xyXG5cclxuICAgICAgICBjb25zdCBtYW55UHJvamVjdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtYW55UHJvamVjdHMuY2xhc3NMaXN0LmFkZCgnbWFueVByb2plY3RzJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRpdlRhc2tzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2VGFza3MuZGF0YXNldC5pZCA9IGNvbXBsaXRlZFRhc2tzW2pdLmlkO1xyXG4gICAgICAgIGRpdlRhc2tzLmNsYXNzTGlzdC5hZGQoJ3Rhc2tzJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5hbWVBbmRQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG5hbWVBbmRQcmlvcml0eS5jbGFzc0xpc3QuYWRkKCduYW1lLWFuZC1wcmlvcml0eScpO1xyXG5cclxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICBuYW1lQW5kUHJpb3JpdHkuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xyXG5cclxuICAgICAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbmFtZS50ZXh0Q29udGVudCA9IGNvbXBsaXRlZFRhc2tzW2pdLm5hbWU7XHJcbiAgICAgICAgbmFtZS5jbGFzc0xpc3QuYWRkKCduYW1lJyk7XHJcblxyXG4gICAgICAgIG5hbWVBbmRQcmlvcml0eS5hcHBlbmRDaGlsZChuYW1lKTtcclxuXHJcbiAgICAgICAgZGl2VGFza3MuYXBwZW5kQ2hpbGQobmFtZUFuZFByaW9yaXR5KTtcclxuXHJcbiAgICAgICAgY29uc3QgZGVsZXRlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGVsZXRlRGl2LmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZScpO1xyXG5cclxuICAgICAgICBjb25zdCB2aWV3TW9yZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHZpZXdNb3JlQnRuLmNsYXNzTGlzdC5hZGQoJ3ZpZXdNb3JlQnRuQ29tcGxpdGVkJyk7XHJcbiAgICAgICAgdmlld01vcmVCdG4udGV4dENvbnRlbnQgPSAndmlldyBtb3JlJztcclxuICAgICAgICB2aWV3TW9yZUJ0bi5kYXRhc2V0LmlkID0gY29tcGxpdGVkVGFza3Nbal0uaWQ7XHJcblxyXG4gICAgICAgIGRlbGV0ZURpdi5hcHBlbmRDaGlsZCh2aWV3TW9yZUJ0bik7XHJcblxyXG4gICAgICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgncHJpb3JpdHknKTtcclxuICAgIFxyXG4gICAgICAgIGRpdlRhc2tzLmFwcGVuZENoaWxkKGRlbGV0ZURpdik7XHJcblxyXG4gICAgICAgIG1hbnlQcm9qZWN0cy5hcHBlbmRDaGlsZChkaXZUYXNrcyk7XHJcblxyXG4gICAgICAgIHByb2plY3RzQ29udGVudC5hcHBlbmRDaGlsZChtYW55UHJvamVjdHMpO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgY3JlYXRlRGl2ID0gKCkgPT4ge1xyXG5cclxuICAgIGxldCBpbmRleDtcclxuICAgIHByb2plY3RzQ29udGVudC50ZXh0Q29udGVudCA9IG5vd1Byb2plY3Q7XHJcblxyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG5ld0Fyci5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgaWYobmV3QXJyW2ldLm5hbWUgPT0gbm93UHJvamVjdCl7XHJcbiAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yKGxldCBqID0gMDsgaiA8IG5ld0FycltpbmRleF0udGFza3MubGVuZ3RoOyBqKyspe1xyXG5cclxuICAgICAgICBjb25zdCBtYW55UHJvamVjdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtYW55UHJvamVjdHMuY2xhc3NMaXN0LmFkZCgnbWFueVByb2plY3RzJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRpdlRhc2tzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2VGFza3MuZGF0YXNldC5pZCA9IG5ld0FycltpbmRleF0udGFza3Nbal0uaWQ7XHJcbiAgICAgICAgZGl2VGFza3MuY2xhc3NMaXN0LmFkZCgndGFza3MnKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmFtZUFuZFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbmFtZUFuZFByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ25hbWUtYW5kLXByaW9yaXR5Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoZWNrYm94SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIGNoZWNrYm94SW5wdXQuZGF0YXNldC5pZCA9IG5ld0FycltpbmRleF0udGFza3Nbal0uaWQ7XHJcbiAgICAgICAgY2hlY2tib3hJbnB1dC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xyXG4gICAgICAgIGNoZWNrYm94SW5wdXQudHlwZSA9ICdjaGVja2JveCc7XHJcblxyXG4gICAgICAgIGNoZWNrYm94LmFwcGVuZENoaWxkKGNoZWNrYm94SW5wdXQpO1xyXG5cclxuICAgICAgICBuYW1lQW5kUHJpb3JpdHkuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xyXG5cclxuICAgICAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbmFtZS50ZXh0Q29udGVudCA9IG5ld0FycltpbmRleF0udGFza3Nbal0ubmFtZTtcclxuICAgICAgICBuYW1lLmNsYXNzTGlzdC5hZGQoJ25hbWUnKTtcclxuXHJcbiAgICAgICAgbmFtZUFuZFByaW9yaXR5LmFwcGVuZENoaWxkKG5hbWUpO1xyXG5cclxuICAgICAgICBkaXZUYXNrcy5hcHBlbmRDaGlsZChuYW1lQW5kUHJpb3JpdHkpO1xyXG5cclxuICAgICAgICBjb25zdCBkZWxldGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkZWxldGVEaXYuY2xhc3NMaXN0LmFkZCgnZGVsZXRlJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHZpZXdNb3JlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgdmlld01vcmVCdG4uY2xhc3NMaXN0LmFkZCgndmlld01vcmVCdG4nKTtcclxuICAgICAgICB2aWV3TW9yZUJ0bi50ZXh0Q29udGVudCA9ICd2aWV3IG1vcmUnO1xyXG4gICAgICAgIHZpZXdNb3JlQnRuLmRhdGFzZXQuaWQgPSBuZXdBcnJbaW5kZXhdLnRhc2tzW2pdLmlkO1xyXG5cclxuICAgICAgICBkZWxldGVEaXYuYXBwZW5kQ2hpbGQodmlld01vcmVCdG4pO1xyXG5cclxuICAgICAgICBjb25zdCBtYXRlcmlhbEljb25zRGVsZXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIG1hdGVyaWFsSWNvbnNEZWxldGUuY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtaWNvbnMnKTtcclxuICAgICAgICBtYXRlcmlhbEljb25zRGVsZXRlLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZScpO1xyXG4gICAgICAgIG1hdGVyaWFsSWNvbnNEZWxldGUudGV4dENvbnRlbnQgPSAnZGVsZXRlJztcclxuICAgICAgICBtYXRlcmlhbEljb25zRGVsZXRlLmRhdGFzZXQuaWQgPSBuZXdBcnJbaW5kZXhdLnRhc2tzW2pdLmlkO1xyXG5cclxuICAgICAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5Jyk7XHJcblxyXG4gICAgICAgIGRlbGV0ZURpdi5hcHBlbmRDaGlsZChtYXRlcmlhbEljb25zRGVsZXRlKTtcclxuICAgIFxyXG4gICAgICAgIGRpdlRhc2tzLmFwcGVuZENoaWxkKGRlbGV0ZURpdik7XHJcblxyXG4gICAgICAgIG1hbnlQcm9qZWN0cy5hcHBlbmRDaGlsZChkaXZUYXNrcyk7XHJcblxyXG4gICAgICAgIHByb2plY3RzQ29udGVudC5hcHBlbmRDaGlsZChtYW55UHJvamVjdHMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgaW5kZXhNYWluT25lO1xyXG5sZXQgaW5kZXhNYWluVHdvO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZUJ0bk1vcmUnKSl7XHJcbiAgICAgICAgWy4uLmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21vcmVDb250ZW50JyldLm1hcChpdGVtID0+IGl0ZW0gJiYgaXRlbS5yZW1vdmUoKSk7XHJcbiAgICB9XHJcbn0pXHJcblxyXG5jb25zdCBhZGREaXYgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBtb3JlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbW9yZUNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnbW9yZUNvbnRlbnQnKTtcclxuXHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2xvc2VCdG5Nb3JlJyk7XHJcbiAgICBjbG9zZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdjbG9zZSc7XHJcblxyXG4gICAgbW9yZUNvbnRlbnQuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pO1xyXG5cclxuICAgIGNvbnN0IG5hbWVQcm9qZWN0QW5kRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5hbWVQcm9qZWN0QW5kRGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZCgnbmFtZVByb2plY3QtYW5kLWRlc2NyaXB0aW9uJyk7XHJcblxyXG4gICAgY29uc3QgbmFtZVByb2plY3RUd28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5hbWVQcm9qZWN0VHdvLnRleHRDb250ZW50ID0gYG5hbWU6ICR7bmV3QXJyW2luZGV4TWFpbk9uZV0udGFza3NbaW5kZXhNYWluVHdvXS5uYW1lfWA7XHJcbiAgICBuYW1lUHJvamVjdFR3by5jbGFzc0xpc3QuYWRkKCduYW1lUHJvamVjdCcpO1xyXG5cclxuICAgIG5hbWVQcm9qZWN0QW5kRGVzY3JpcHRpb24uYXBwZW5kQ2hpbGQobmFtZVByb2plY3RUd28pO1xyXG5cclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uVHdvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBkZXNjcmlwdGlvblR3by50ZXh0Q29udGVudCA9IGBkZXNjcmlwdGlvbjogJHtuZXdBcnJbaW5kZXhNYWluT25lXS50YXNrc1tpbmRleE1haW5Ud29dLmRlY3JpcHRpb259YDtcclxuICAgIGRlc2NyaXB0aW9uVHdvLmNsYXNzTGlzdC5hZGQoJ2Rlc2NyaXB0aW9uUHJvamVjdCcpO1xyXG5cclxuICAgIG5hbWVQcm9qZWN0QW5kRGVzY3JpcHRpb24uYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25Ud28pO1xyXG5cclxuICAgIG1vcmVDb250ZW50LmFwcGVuZENoaWxkKG5hbWVQcm9qZWN0QW5kRGVzY3JpcHRpb24pO1xyXG5cclxuICAgIGNvbnN0IGRhdGVBbmRQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZGF0ZUFuZFByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ2RhdGUtYW5kLXByaW9yaXR5Jyk7XHJcblxyXG4gICAgY29uc3QgZGF0ZVByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRhdGVBbmRQcmlvcml0eS50ZXh0Q29udGVudCA9IGBkYXRlOiAke25ld0FycltpbmRleE1haW5PbmVdLnRhc2tzW2luZGV4TWFpblR3b10uZGF0ZX1gO1xyXG4gICAgZGF0ZVByb2plY3QuY2xhc3NMaXN0LmFkZCgnZGF0ZVByb2plY3QnKTtcclxuXHJcbiAgICBkYXRlQW5kUHJpb3JpdHkuYXBwZW5kQ2hpbGQoZGF0ZVByb2plY3QpO1xyXG5cclxuICAgIGNvbnN0IHByaW9yaXR5UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgcHJpb3JpdHlQcm9qZWN0LnRleHRDb250ZW50ID0gYHByaW9yaXR5OiAke25ld0FycltpbmRleE1haW5PbmVdLnRhc2tzW2luZGV4TWFpblR3b10ucHJpb3JpdHl9YDtcclxuICAgIHByaW9yaXR5UHJvamVjdC5jbGFzc0xpc3QuYWRkKCdwcmlvcml0eVByb2plY3QnKTtcclxuXHJcbiAgICBkYXRlQW5kUHJpb3JpdHkuYXBwZW5kQ2hpbGQocHJpb3JpdHlQcm9qZWN0KTtcclxuXHJcbiAgICBtb3JlQ29udGVudC5hcHBlbmRDaGlsZChkYXRlQW5kUHJpb3JpdHkpO1xyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9yZUNvbnRlbnQpO1xyXG59XHJcblxyXG5jb25zdCBhZGRUb1BhZ2VOYW1lUHJvamVjdCA9ICgpID0+IHtcclxuICAgIHJvb3QudGV4dENvbnRlbnQgPSAnJztcclxuICAgIFxyXG4gICAgZm9yKGtleSBpbiBuZXdBcnIpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKG5ld0FycltrZXldLm5hbWUgPT0gJ2luYm94Jyl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzTmFtZUluUGFnZScpO1xyXG4gICAgICAgICAgICBwLnRleHRDb250ZW50ID0gbmV3QXJyW2tleV0ubmFtZTtcclxuXHJcbiAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQocCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJvamVjdHNOYW1lSW5QYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3RzTmFtZUluUGFnZScpO1xyXG59XHJcblxyXG52aWV3TW9yZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGlmKG1vcmUudGV4dENvbnRlbnQgPT0gJ2V4cGFuZF9tb3JlJyl7XHJcbiAgICAgICAgbW9yZS50ZXh0Q29udGVudCA9ICdleHBhbmRfbGVzcyc7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBtb3JlLnRleHRDb250ZW50ID0gJ2V4cGFuZF9tb3JlJztcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvamVjdHNEaXYuY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsaXR5Jyk7XHJcbiAgICBwcm9qZWN0Rm9sZGVyLmNsYXNzTGlzdC50b2dnbGUoJ292ZXJmbG93Jyk7XHJcbiAgICBwcm9qZWN0Rm9sZGVyLmNsYXNzTGlzdC50b2dnbGUoJ292ZXJmbG93SGlkZGVuJyk7XHJcbn0pIl0sIm5hbWVzIjpbInZpZXdNb3JlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibW9yZSIsInByb2plY3RzRGl2IiwicHJvamVjdEZvbGRlciIsIm1lbnUiLCJtYWluIiwiaW5ib3hNYWluIiwibmV3QXJyIiwibmFtZSIsInRhc2tzIiwibm93UHJvamVjdCIsImNvdW50IiwiY29tcGxpdGVkVGFza3MiLCJkZWxldGVCdXR0b24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkSXRlbSIsImFkZFByb2plY3QiLCJjbG9zZU5ld1Byb2plY3QiLCJhZGROZXdQcm9qZWN0IiwiYWRkUHJvamVjdElucHV0Iiwicm9vdCIsInByb2plY3RzTmFtZUluUGFnZSIsImluYm94Q2xpY2siLCJuYW1lVGFza3MiLCJkZXNjcmlwdGlvbnRhc2tzIiwiZGF0ZVRhc2tzIiwicHJpb3JpdHlUYXNrc0lucHV0IiwiYWRkTmF2IiwiYWRkdGFza3MiLCJjbG9zZVRhc2tzQ2xpY2siLCJhZGRUYXNrc0J1dHRvbiIsInByb2plY3RzQ29udGVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVEaXYiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ2YWx1ZSIsInJlbW92ZSIsImkiLCJsZW5ndGgiLCJwdXNoIiwiZGVjcmlwdGlvbiIsImRhdGUiLCJwcmlvcml0eSIsImlkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2hlY2tlZCIsImNvbnNvbGUiLCJsb2ciLCJlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJ0ZXh0Q29udGVudCIsImFkZCIsImFkZFRvUGFnZU5hbWVQcm9qZWN0IiwiaW5kZXhNYWluIiwiZGF0YXNldCIsImluZGV4TWFpbk9uZSIsImoiLCJpbmRleE1haW5Ud28iLCJhZGREaXYiLCJpbmRleCIsImluZGV4VHdvIiwic3BsaWNlIiwiY29tcGxpdGVkRGl2IiwiY29tcGxpdGVkVmlld01vcmUiLCJ0ZXN0IiwibW9yZUNvbnRlbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xvc2VCdXR0b24iLCJhcHBlbmRDaGlsZCIsIm5hbWVQcm9qZWN0QW5kRGVzY3JpcHRpb24iLCJuYW1lUHJvamVjdFR3byIsImRlc2NyaXB0aW9uVHdvIiwiZGF0ZUFuZFByaW9yaXR5IiwiZGF0ZVByb2plY3QiLCJwcmlvcml0eVByb2plY3QiLCJib2R5IiwibWFueVByb2plY3RzIiwiZGl2VGFza3MiLCJuYW1lQW5kUHJpb3JpdHkiLCJjaGVja2JveCIsImRlbGV0ZURpdiIsInZpZXdNb3JlQnRuIiwiY2hlY2tib3hJbnB1dCIsInR5cGUiLCJtYXRlcmlhbEljb25zRGVsZXRlIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm1hcCIsIml0ZW0iLCJrZXkiLCJwIl0sInNvdXJjZVJvb3QiOiIifQ==